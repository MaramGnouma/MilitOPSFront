
<input type="checkbox" id="nav-toggle">
<div class="sidebar">
  <div class="sidebar-brand">
    <p style="color: rgb(250, 250, 250);font-weight: bold;">
      <span>
<img  src="../../../../assets/icons/icone2.png" style="width: 70px;height: 80px">

      </span>
      <span>MILITOPS</span>

    </p>
  </div>
  <div class="sidebar-menu">
    <ul>
      <li>
        <a [routerLink]="['/responsable/dash']" >
          <span class="las la-igloo"></span>
          <span>Dashboard </span>
      </a>
    </li>
    <li>
      <a [routerLink]="['/shared/listdirect']"  >
        <span class="las la-clipboard-list"></span>
        <span>Missions Direct </span>
    </a>
    </li>
    <li>
      <a [routerLink]="['/soldats']">
        <span class="las la-users"></span>
        <span>Soldiers </span>
    </a>
  </li>
  <li>
    <a [routerLink]="['/responsable/controller']">
      <span class="las la-user-circle"></span>
      <span>Controllers </span>
  </a>
</li>

<li>
  <a [routerLink]="['/responsable/missionterminees']" [ngClass]="{'active': isActive('/responsable/missionterminees')}">
    <span class="las la-receipt"></span>
    <span>Mission Termined </span>
</a>
</li>
<li>
  <a (click)="logout()" style="margin-top: 260px;">
    <span class="las la-sign-out-alt"></span>
    <span>Logout</span>
  </a>
</li>
    </ul>

  </div>
</div>
<div class="main-content">
    <app-header></app-header>
<main>
  <div class="card">
    <div class="card-body d-flex">
      <div class="mission-info">
        <h1 class="card-title">List of Completed Missions </h1>
        <div class="search-wrapper-container" style="display: flex; justify-content: center;">

          <div style="display: flex; justify-content: space-between; " >
            <div class="search-wrapper1">
              <span class="las la-search" style="margin-right: 5px;"></span>
              <input type="search" placeholder="Search here" [(ngModel)]="searchTerm" (input)="filterMission()"/>
            </div>

            <div style="display: flex; align-items: center; margin-left: 50px;">
              <select style="margin-left: 5px;" (change)="sortMissions($event)" class="search-wrapper1">
                <option value="success">Success</option>
                <option value="failed">Failed</option>
                <option value="abandoned">Abandoned</option>
              </select>
            </div>

            </div>
        </div>

        <div>
<table mat-table matSort [dataSource]="dataSource" class="thead tbody">

  <!-- Column du nom -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef class="th1 sortable-header"> Name </th>
    <td mat-cell *matCellDef="let m" class="td1"> {{ m.name }}</td>
  </ng-container>

  <!-- Column de l'email -->
  <ng-container matColumnDef="datedebut">
    <th mat-header-cell *matHeaderCellDef class="th1 sortable-header"> Start Date </th>
    <td mat-cell *matCellDef="let m" class="td1">{{ m.datedebut| date:'dd/MM/yyyy' }} </td>
  </ng-container>

  <!-- Column du numÃ©ro d'identification militaire -->
 <!-- Column du numÃ©ro d'identification militaire -->
<ng-container matColumnDef="dateFin">
<th mat-header-cell *matHeaderCellDef  class="th1 sortable-header">
<span>Final Date</span>

</th>
<td mat-cell *matCellDef="let m" class="td1"> {{ m.dateFin | date:'dd/MM/yyyy' }} </td>
</ng-container>
  <!-- Column du nom -->
  <ng-container matColumnDef="resultat">
    <th mat-header-cell *matHeaderCellDef class="th1 sortable-header"> Result
    </th>
    <td mat-cell *matCellDef="let m" class="td1"> {{ m.resultat }}</td>
  </ng-container>

  <!-- Column des actions -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef class="th1 sortable-header"> Actions </th>
    <td mat-cell *matCellDef="let m" class="td1">
      <span class="icon-container" [routerLink]="'/responsable/missionterminees/' + m._id" *ngIf="m.resultat !== 'Abandoned'">
        <i class="fas fa-circle-info" mat-button></i>
      </span>
      <span class="icon-container" style="padding-left: 5px;">
        <i class="fas fa-print" mat-button (click)="openPdf(m._id)"></i>
      </span>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let m; columns: displayedColumns;"></tr> <!-- Remove the extra *ngFor here -->
</table>
<div style="margin-left: 300px;" >
  <mat-paginator [pageSizeOptions]="[5, 10,20]" showFirstLastButtons aria-label="Select a period page
  "></mat-paginator>
</div>

</div>
</div>

</div>
</div>
</main>
</div>
